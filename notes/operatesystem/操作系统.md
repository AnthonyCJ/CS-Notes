# 操作系统





---



## 1. 操作系统概述



### 1.3 什么是操作系统

#### 1.3.1 操作系统的概念

* 没有公认的精确定义
* 操作系统是一个**控制程序**
  * 一个系统软件
  * 控制程序执行过程，防止错误和计算机的不当使用
  * 执行用户程序，给用户程序提供各种服务
  * 方便你用户使用计算机系统
* 操作系统是一个**资源管理器**
  * 应用程序域硬件之间的中间层
  * 管理各种计算机软硬件资源
  * 提供访问计算机软硬件资源的高效手段
  * 解决资源访问冲突，确保资源公平使用

#### 1.3.2 操作系统软件的分类

![image-20210922112128918](image-20210922112128918.png)

#### 1.3.3 操作系统软件的组成

* Shell——命令行接口
  * 通过键盘操纵
  * 方便用户进行命令输入
* GUI——图形用户接口
  * WIMP(视窗（Window)、图标（Icon）、选单（Menu）、指标（Pointer））
  * 直接操作、所见即所得
* Kernel——操作系统的内部
  * 执行各种资源管理等功能



#### 1.3.4 操作系统的内核特征

* 并发

  * 计算机系统中同时存在多个运行的程序，需要OS管理和调度

* 共享

  * “同时”访问

    > 宏观上要体现出同时访问的情况

  * 互斥共享

    > 微观上实现互斥访问

* 虚拟

  * 利用多道程序设计技术，让每个用户都觉得有一个计算机为他服务

* 异步

  * 程序的执行不是一贯到底，向前推进的速度不可预知
  * 只要运行环境相同，OS要保证运行的结果也相同



#### 1.4 为什么学习操作系统，如何学习操作系统

重视实践。

<br><br>

### 1.5 操作系统实例

* 开放式：Linux，Android等
* 封闭式：Windows系列

<br><br>

### 1.6 操作系统的演变

<br>

#### 1.6.1 操作系统为什么改变

* 主要功能：硬件抽象和协调管理
* 原则：设计随着各种相关技术的改变而做出一定的改变
* <font color="ffa600">在过去二十年底层技术有着极大的改变</font>

<br>

#### 1.6.2 操作系统的演变

* 单用户系统
  * 能够完成单用户作业即可
  * 操作系统 = 装载器 + 通用子程序库
  * 问题：昂贵组件的低利用率
* 批处理系统
  * 提高利用效率
  * 顺序执行与批处理
* 多道程序系统
  * 提高利用效率
  * 保持多个工作在内存中并且在各工作间复用CPU
    * 内存中由原来的程序执行变成了多道程序的交替执行【**交替的条件**是前一个正在执行的程序主动让出CPU的使用权】
* 分时
  * 使前一个作业未结束时，后一个作业能够开始作业并交替运行
  * **定时中断**用于工作对CPU的复用
    * 可以让短的作业不必排在长作业后等待过久时间
* 个人计算机：每个用户一个系统
  * 易用性
    * 单用户
    * 利用率已不再是关注点，重点是用户界面和多媒体功能
    * 很多老的服务和功能不存在
  * 演变
    * 最初：操作系统作为一个简单的服务提供者（简单库）
    * 现在：支持协调和沟通的多应用系统
    * 越来越多的安全问题（如，电子商务、医疗记录）
* 分布式计算：每个用户多个系统
  * 安全性、高可靠性
  * 网络支持成为一个重要功能
  * 通常支持分布式服务
    * 跨多系统的数据共享和协调
  * 可能使用多个处理器
    * 松、紧耦合系统
  * 高可用性与可靠性的要求

<br><br>

### 1.7 操作系统结构

<br>

#### 1.7.1 简单结构

* MS-DOS——在最小的空间，设计用于提供大部分功能（1981~1994）
  * 没有拆分为模块
  * MS-DOS在接口和功能水平没有很好地分离，主要用汇编编写

<br>

#### 1.7.2 分层结构

* 操作系统分为很多层（levels）
  * 每层建立在低层之上
  * 最底层（layer0），是硬件
  * 最高层（layerN）是用户界面
* 使用模块化，每一层仅使用更低一层的功能（操作）和服务
  * 底层汇编编写，链接

<br>

#### 微内核结构（Microkernel）

分层结构层次多，效率低，因而采用微内核结构作为一种改进办法。

尝试把一些操作系统内核提供的服务放到用户态





## 操作系统结构









---



## 中断及系统调用









---



## 内存管理









----



## 进程及线程









---



## 处理机调度









---



## 同步互斥









---



## 文件系统









---



## I/0子系统















